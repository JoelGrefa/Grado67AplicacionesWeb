<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <title>Contacto - CinePlus</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="container py-5">
      <h2 class="mb-4">Contáctanos</h2>
      <form id="form-contacto" novalidate>
        <div class="mb-3">
          <label for="nombre" class="form-label">Nombre</label>
          <input
            type="text"
            class="form-control"
            id="nombre"
            required
            aria-describedby="nombreError"
          />
          <div id="nombreError" class="invalid-feedback">Por favor ingresa tu nombre.</div>
        </div>
        <div class="mb-3">
          <label for="correo" class="form-label">Correo electrónico</label>
          <input
            type="email"
            class="form-control"
            id="correo"
            required
            aria-describedby="correoError"
          />
          <div id="correoError" class="invalid-feedback">Por favor ingresa un correo válido.</div>
        </div>
        <div class="mb-3">
          <label for="mensaje" class="form-label">Mensaje</label>
          <textarea
            class="form-control"
            id="mensaje"
            rows="4"
            required
            aria-describedby="mensajeError"
          ></textarea>
          <div id="mensajeError" class="invalid-feedback">El mensaje debe tener entre 20 y 50 caracteres.</div>
        </div>
        <button type="submit" class="btn btn-primary">Enviar</button>
        <button type="button" class="btn btn-secondary" onclick="window.location.href='../index.html'">Volver al inicio</button>
        <div id="alerta" class="alert alert-success mt-3 d-none">
          Mensaje enviado con éxito.
        </div>
      </form>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script>
      $(document).ready(function () {
        // Validación del formulario de contacto
        $("#form-contacto").on("submit", function (e) {
          e.preventDefault(); // Evitar el envío del formulario

          // Obtener los valores de los campos
          const nombre = $("#nombre").val().trim();
          const correo = $("#correo").val().trim();
          const mensaje = $("#mensaje").val().trim();

          // Validación de nombre
          if (nombre === "") {
            $("#nombre").addClass("is-invalid");
          } else {
            $("#nombre").removeClass("is-invalid");
          }

          // Validación de correo (usamos una expresión regular simple para el correo)
          const emailPattern = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
          if (!emailPattern.test(correo)) {
            $("#correo").addClass("is-invalid");
          } else {
            $("#correo").removeClass("is-invalid");
          }

          // Validación de mensaje
          if (mensaje.length < 20 || mensaje.length > 50) {
            $("#mensaje").addClass("is-invalid");
          } else {
            $("#mensaje").removeClass("is-invalid");
          }

          // Si todos los campos son válidos, mostramos el mensaje de éxito
          if (
            nombre !== "" &&
            emailPattern.test(correo) &&
            mensaje.length >= 20 &&
            mensaje.length <= 50
          ) {
            $("#alerta").removeClass("d-none").fadeIn();
            setTimeout(function () {
              $("#alerta").fadeOut();
            }, 3000);
            this.reset(); // Limpiar el formulario
          }
        });
      });
    </script>
  </body>
</html>
